<div class="page">
  <accordion *ngIf="players && gang" [openAtStart]="0">

    <expandable [linkable]="linksForGang(gang)">
      <expandable-header>
        <div class="page-accordion-header">{{gang.name}}</div>
      </expandable-header>
      <expandable-content>
        <div>
          <div class="page-accordion-content">
            <gang [gang]="gang"></gang>
          </div>
          <div class="page-accordion-content mod-separate" *ngIf="gang">
            <div class="headline">Episoden:</div>
            <sessions [sessions]="gang.sessions" [gangName]="gang.name" [excludeLinks]="excludeLinks"></sessions>
          </div>
          <div class="page-accordion-content mod-separate" *ngIf="gang.npcs">
            <div class="headline">NPCs:</div>
            <npcs [npcs]="gang.npcs" [excludeLinks]="excludeLinks"></npcs>
          </div>
        </div>
      </expandable-content>
    </expandable>

    <expandable *ngFor="let player of players" [linkable]="linksForPlayer(player)">
      <expandable-header>
        <div class="page-accordion-header">{{player.name}}</div>
      </expandable-header>
      <expandable-content>
        <div class="page-accordion-content">
          <achievements *ngIf="player.achievements" [achievements]="player.achievements"
                        [maxAmount]="3"></achievements>
          <characters [characters]="player.characters" [playerName]="player.name"></characters>
        </div>
      </expandable-content>
    </expandable>
  </accordion>
</div>
